<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INVITACION</title>
    <link rel="icon" href="./resources/images/invitacion.png" type="image/png">
    <link rel="stylesheet" href="./resources/css/index.css">
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >
</head>
<body>
    <div class="borde-pagina-externo"></div>
    <div class="borde-pagina-interno"></div>
    <div class="contenedor">
        <img src="./resources/images/flor_1.png" class="flor-fondo" alt="Flor decorativa">
        <img src="./resources/images/flor_2.png" class="flor-fondo-der" alt="Flor decorativa inferior derecha">
        <div id="sin-invitacion" class="d-none" style="text-align: center;">
            <h2 class="text-danger">üòï ¬°Ups!</h2>
            <p>No parece que tengas una invitaci√≥n v√°lida.</p>
            <p>Por favor, contacta a los organizadores para obtener acceso.</p>
        </div>

        <div id="con-invitacion" class="d-none" style="text-align: center;">
            
            <h1 class="titulo">¬°Est√°s invitado!</h1>
            <p class="subtitulo">Acomp√°√±anos a celebrar un d√≠a muy especial</p>
            <div class="invitation">
                <p>El evento comienza en:</p>
                <div id="countdown-container">
                <div id="countdown">
                    <div class="flip-unit">
                    <div class="label">D√≠as</div>
                    <div class="flip-card" id="days">00</div>
                    </div>
                    <div class="flip-unit">
                    <div class="label">Horas</div>
                    <div class="flip-card" id="hours">00</div>
                    </div>
                    <div class="flip-unit">
                    <div class="label">Minutos</div>
                    <div class="flip-card" id="minutes">00</div>
                    </div>
                    <div class="flip-unit">
                    <div class="label">Segundos</div>
                    <div class="flip-card" id="seconds">
                        <div class="static">00</div>
                        <div class="animated">00</div>
                    </div>
                    </div>
                </div>
                <div id="message"></div>
                </div>
            </div>
            <p>Asiste a nuestra boda</p>
            <img id="imgBoda" src="./resources/images/imgPareja.png" alt="Foto boda">
            <p id="ltEsposo">CABALLERO</p>
            <br>
            <p>y</p>
            <p id="ltEsposa">DAMA</p>
            <p>Direccion:</p>
            <p id="ltDireccion">Calle Falsa 123, Ciudad</p>
            <div id="seccionCodigoVestimenta">
                <p>Codigo de vestimenta:</p>
            </div>
            <div id="seccionConfirmAsistencia" class="d-none">
                <a id="btnConfirmarAsistencia" class="">Confirmar Asistencia...</a>
            </div>
        </div>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="./resources/js/cronoTimer.js"></script>
    <script src="./resources/js/controlArchivos.js"></script>
    <script src="./resources/js/main.js"></script>
    <script>
        window.onload = async () => {
            console.log("‚úÖ P√°gina cargada");

            const esLocal = window.location.protocol === "file:";

            if (esLocal) {
                console.warn("‚ö†Ô∏è Modo local detectado. Saltando validaci√≥n de invitado.");
                mostrarConInvitacion();
                return;
            }

            await actualizarInvitados(); // Espera la carga de objInvitados
            console.log("üì¶ Invitados cargados:", objInvitados);

            const invitado = validarInvitado();
            console.log("üîç Invitado encontrado:", invitado);

            if (invitado) {
            mostrarConInvitacion();
            } else {
            mostrarSinInvitacion();
            }
        };
    </script>

    <div class="invisible-link">
        <a href="https://www.flaticon.es/iconos-gratis/estrella" title="estrella iconos">Estrella iconos creados por berkahicon - Flaticon</a>
    </div>
</body>
</html>